(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7da40642"],{"057a":function(e,t,s){},"11dd":function(e,t,s){"use strict";s("c954")},"13d5":function(e,t,s){"use strict";var r=s("23e7"),i=s("d58f").left,a=s("a640"),c=s("ae40"),o=s("2d00"),n=s("605d"),u=a("reduce"),h=c("reduce",{1:0}),l=!n&&o>79&&o<83;r({target:"Array",proto:!0,forced:!u||!h||l},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2d3b":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("TopNav",{directives:[{name:"show",rawName:"v-show",value:!this.$root.playingMusic.isFullscreenShow,expression:"!this.$root.playingMusic.isFullscreenShow"}]}),s("form",{directives:[{name:"show",rawName:"v-show",value:!e.$root.playingMusic.isFullscreenShow,expression:"!$root.playingMusic.isFullscreenShow"}],on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.searchList(e.keywords)}}},[s("div",{staticClass:"search"},[s("i"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.keywords,expression:"keywords"}],attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:e.keywords},on:{input:function(t){t.target.composing||(e.keywords=t.target.value)}}}),s("i",{on:{click:e.clearSearch}})])]),s("HotSearch",{directives:[{name:"show",rawName:"v-show",value:""==e.keywords,expression:"keywords==''"}],attrs:{hotSearch:e.hotSearch},on:{clickHotSearch:e.clickHotSearch}}),s("MusicItem",{directives:[{name:"show",rawName:"v-show",value:e.isClickHotSearch&&""!=e.keywords,expression:"isClickHotSearch && keywords!=''"}],attrs:{MusicList:e.hotSearchResult}}),s("Loading",{directives:[{name:"show",rawName:"v-show",value:e.searching,expression:"searching"}]}),s("Suggest",{directives:[{name:"show",rawName:"v-show",value:e.showSearch&&!e.isClickHotSearch,expression:"showSearch && !isClickHotSearch"}],attrs:{suggests:e.suggests,keywords:e.keywords},on:{searchResult:e.searchList}}),s("SearchResult",{directives:[{name:"show",rawName:"v-show",value:e.showList&&!e.$root.playingMusic.isFullscreenShow,expression:"showList && !$root.playingMusic.isFullscreenShow"}],attrs:{searchMusicList:e.searchMusicList}})],1)},i=[],a=(s("99af"),s("d81d"),s("13d5"),s("b0c0"),s("d3b7"),s("5200")),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"suggests"},[""!=e.keywords?s("li",[e._v('搜索："'+e._s(e.keywords)+'"')]):e._e(),e._l(e.suggests,(function(t){return s("li",{key:t.id,on:{click:function(s){return e.$emit("searchResult",t.name)}}},[e._v(e._s(e._f("filtType")(t))+e._s(t.name))])}))],2)},o=[],n={props:{suggests:{type:Array,default:function(){return[]}},keywords:{type:String,default:""}},filters:{filtType:function(e){return"undefined"!=typeof e.artists?"歌曲":"undefined"!=typeof e.artist?"专辑":"歌手"}}},u=n,h=(s("f80a"),s("2877")),l=Object(h["a"])(u,c,o,!1,null,"e96c3016",null),d=l.exports,f=s("3a5e"),w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("MusicItem",{attrs:{MusicList:e.searchMusicList}})],1)},g=[],p=s("01f3"),v={props:{searchMusicList:Array},components:{MusicItem:p["a"]}},m=v,y=Object(h["a"])(m,w,g,!1,null,"8dcd52d0",null),k=y.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hot-search"},[e._m(0),s("ul",{staticClass:"music-list"},e._l(e.hotSearch,(function(t){return s("li",{key:t.id,on:{click:function(s){return e.search(t.first)}}},[s("a",[e._v(e._s(t.first))])])})),0)])},b=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"title"},[s("span",[e._v("热门搜索")])])}],_={props:["hotSearch"],methods:{search:function(e){this.$emit("clickHotSearch",e)}}},M=_,x=(s("3742"),Object(h["a"])(M,S,b,!1,null,"ad467398",null)),L=x.exports,$={data:function(){return{keywords:"",suggests:[],searchMusicList:[],searching:!1,showList:!1,showSearch:!1,hotSearch:[],isClickHotSearch:!1,hotSearchResult:[]}},methods:{searchList:function(e){var t=this;this.showList=!1,this.searching=!1,this.showSearch=!1,this.searchMusicList=[],this.suggests=[],this.axios.get("/search?keywords="+e).then((function(e){200==e.data.code&&(t.showList=!0,t.searchMusicList=e.data.result.songs.map((function(e){return{name:e.name,id:e.id,song:{artists:e.artists,privilege:{maxbr:1}}}})))})).catch((function(){console.log("请求搜索失败")}))},playMusic:function(e){this.$emit("playMusic",e)},clearSearch:function(){this.keywords=""},clickHotSearch:function(e){var t=this;this.keywords=e,this.isClickHotSearch=!0,this.$http.get("/search/suggest?keywords="+e).then((function(e){t.hotSearchResult=e.data.result.songs.map((function(e){return{id:e.id,name:e.name,song:{privilege:{maxbr:e.mark},artists:e.artists}}}))})).catch((function(){console.log("请求热门搜索失败")}))}},watch:{keywords:function(e){var t=this;this.isClickHotSearch||(this.suggests=[],this.searching=!0,this.showList=!1,this.$http.get("/search/suggest?keywords="+e).then((function(e){if(200==e.data.code&&e.data.result.order){var s=e.data.result,r=s.order.reduce((function(e,t){return e.concat(s[t])}),[]);t.showSearch=!0,t.suggests=r,t.searching=!1,""==t.keywords&&(t.suggests=[])}})).catch((function(){console.log("搜索请求失败")})).finally((function(){t.searching=!1})))}},components:{Suggest:d,Loading:f["a"],SearchResult:k,HotSearch:L,MusicItem:p["a"],TopNav:a["a"]},beforeRouteEnter:function(e,t,s){s((function(e){e.$http.get("/search/hot/detail").then((function(t){e.hotSearch=t.data.result.hots})).catch((function(){console.log("请求数据失败")}))}))}},C=$,H=(s("11dd"),Object(h["a"])(C,r,i,!1,null,"21de8b9c",null));t["default"]=H.exports},3742:function(e,t,s){"use strict";s("057a")},"99af":function(e,t,s){"use strict";var r=s("23e7"),i=s("d039"),a=s("e8b5"),c=s("861d"),o=s("7b0b"),n=s("50c4"),u=s("8418"),h=s("65f0"),l=s("1dde"),d=s("b622"),f=s("2d00"),w=d("isConcatSpreadable"),g=9007199254740991,p="Maximum allowed index exceeded",v=f>=51||!i((function(){var e=[];return e[w]=!1,e.concat()[0]!==e})),m=l("concat"),y=function(e){if(!c(e))return!1;var t=e[w];return void 0!==t?!!t:a(e)},k=!v||!m;r({target:"Array",proto:!0,forced:k},{concat:function(e){var t,s,r,i,a,c=o(this),l=h(c,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?c:arguments[t],y(a)){if(i=n(a.length),d+i>g)throw TypeError(p);for(s=0;s<i;s++,d++)s in a&&u(l,d,a[s])}else{if(d>=g)throw TypeError(p);u(l,d++,a)}return l.length=d,l}})},c954:function(e,t,s){},d58f:function(e,t,s){var r=s("1c0b"),i=s("7b0b"),a=s("44ad"),c=s("50c4"),o=function(e){return function(t,s,o,n){r(s);var u=i(t),h=a(u),l=c(u.length),d=e?l-1:0,f=e?-1:1;if(o<2)while(1){if(d in h){n=h[d],d+=f;break}if(d+=f,e?d<0:l<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:l>d;d+=f)d in h&&(n=s(n,h[d],d,u));return n}};e.exports={left:o(!1),right:o(!0)}},e5a4:function(e,t,s){},f80a:function(e,t,s){"use strict";s("e5a4")}}]);
//# sourceMappingURL=chunk-7da40642.63115be7.js.map