{"version":3,"sources":["webpack:///./src/views/MusicList.vue?5616","webpack:///./src/views/MusicList.vue?6fc2","webpack:///src/views/MusicList.vue","webpack:///./src/views/MusicList.vue?1cc7","webpack:///./src/views/MusicList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","directives","name","rawName","value","$root","playingMusic","isFullscreenShow","expression","staticClass","style","backgroundImage","headMsg","_v","coverImgUrl","_s","_f","playCount","description","touxiang","musicList","_l","item","key","commentId","picUrl","time","content","likedCount","staticRenderFns","component"],"mappings":"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","file":"js/chunk-6db9a0e6.1a0e1e60.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicList.vue?vue&type=style&index=0&id=7d1ccb24&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"full-enter\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$root.playingMusic.isFullscreenShow),expression:\"!$root.playingMusic.isFullscreenShow\"}],staticClass:\"song_sheet\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"bg\",style:({backgroundImage:(\"url(\" + (_vm.headMsg.coverImgUrl) + \")\")})}),_c('div',{staticClass:\"header_content\"},[_c('div',{staticClass:\"left\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"歌单\")]),_c('img',{attrs:{\"src\":_vm.headMsg.coverImgUrl}}),_c('span',{staticClass:\"play-count\"},[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.headMsg.playCount)))])]),_c('div',{staticClass:\"right\"},[_c('p',[_vm._v(_vm._s(_vm.headMsg.description))]),_c('a',[_c('img',{attrs:{\"src\":_vm.headMsg.touxiang}}),_vm._v(\" \"+_vm._s(_vm.headMsg.name)+\" \")])])])]),_c('p',{staticClass:\"text\"},[_vm._v(\"歌曲列表\")]),_c('MusicItem',{attrs:{\"MusicList\":_vm.musicList}}),_c('p',{staticClass:\"text\"},[_vm._v(\"精彩评论\")]),_c('div',{staticClass:\"comment\"},[_c('ul',_vm._l((_vm.musicComment),function(item){return _c('li',{key:item.commentId},[_c('div',{staticClass:\"left\"},[_c('img',{attrs:{\"src\":item.picUrl}})]),_c('div',{staticClass:\"right\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(item.time)))]),_c('p',{},[_vm._v(_vm._s(item.content))])]),_c('div',{staticClass:\"dianzan\"},[_c('span',[_vm._v(_vm._s(item.likedCount))]),_c('span')])])}),0)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<transition name=\"full-enter\">\r\n    <div class=\"song_sheet\" v-show=\"!$root.playingMusic.isFullscreenShow\">\r\n        <div class=\"header\">\r\n            <div class=\"bg\" :style=\"{backgroundImage:`url(${headMsg.coverImgUrl})`}\"></div>\r\n            <div class=\"header_content\">\r\n                <div class=\"left\">\r\n                    <span class=\"title\">歌单</span>\r\n                    <img :src=\"headMsg.coverImgUrl\">\r\n                    <span class=\"play-count\">{{headMsg.playCount|formatNum}}</span>\r\n                </div>\r\n                <div class=\"right\">\r\n                    <p>{{headMsg.description}}</p>\r\n                    <a>\r\n                        <img :src=\"headMsg.touxiang\">\r\n                        {{headMsg.name}}\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <p class=\"text\">歌曲列表</p>\r\n        <MusicItem :MusicList='musicList'></MusicItem>\r\n        <p class=\"text\">精彩评论</p>\r\n        <div class=\"comment\">\r\n            <ul>\r\n                <li v-for=\"item in musicComment\" :key=\"item.commentId\">\r\n                    <div class=\"left\">\r\n                        <img :src=\"item.picUrl\">\r\n                    </div>\r\n                    <div class=\"right\">\r\n                        <p class=\"name\">{{item.name}}</p>\r\n                        <p class=\"time\">{{item.time|formatTime}}</p>\r\n                        <p class=\"\">{{item.content}}</p>\r\n                    </div>\r\n                    <div class=\"dianzan\">\r\n                        <span>{{item.likedCount}}</span>\r\n                        <span></span>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</transition>\r\n</template>\r\n<script>\r\nimport MusicItem from '../components/MusicItem'\r\nexport default {\r\n    props:['musicid'],\r\n    data(){\r\n        return {\r\n            //音乐列表\r\n            musicList:[],\r\n            //歌曲评论\r\n            musicComment:[],\r\n            headMsg:[]\r\n        }\r\n    },\r\n    filters:{\r\n        formatTime(value){\r\n            let date = new Date(value);\r\n            let year = date.getFullYear();\r\n            let month = date.getMonth()+1;\r\n            let day = date.getDate();\r\n            return year+\"年\"+month+\"月\"+day+\"日\";\r\n        },\r\n        formatNum(value){\r\n            return (value/10000).toFixed(1)+\"万\";\r\n        }\r\n    },\r\n    components:{\r\n        MusicItem\r\n    },\r\n    beforeRouteEnter(to,from,next){\r\n        next(vm=>{\r\n            let musicIds = [];  \r\n            //根据歌单ID获取-歌单音乐列表ID信息\r\n            vm.$http.get('/playlist/detail?id='+vm.musicid).then(data=>{\r\n                // 获取音乐ID\r\n                if(data.data.playlist != 'undefined'){\r\n                    musicIds = data.data.playlist.trackIds;\r\n                    //获取歌单表头信息\r\n                    vm.headMsg = {\r\n                        commentCount:data.data.playlist.commentCount,\r\n                        coverImgUrl:data.data.playlist.coverImgUrl,\r\n                        description:data.data.playlist.name,\r\n                        name:data.data.playlist.creator.nickname,\r\n                        touxiang:data.data.playlist.creator.avatarUrl,\r\n                        playCount:data.data.playlist.playCount,\r\n                    }\r\n                }\r\n            },()=>(console.log('获取歌单音乐列表ID失败'))).then(()=>{\r\n                //根据音乐ID获取音乐信息\r\n                for(let v of musicIds){\r\n                    //根据音乐ID获取音乐信息\r\n                    vm.$http.get(\"song/detail?ids=\"+v.id).then((d)=>{\r\n                        //自己设计对应的数据结构\r\n                        vm.musicList.push({\r\n                            name:d.data.songs[0].name,\r\n                            id:d.data.songs[0].id,\r\n                            song:{\r\n                                privilege:{\r\n                                    maxbr:d.data.privileges[0].maxbr\r\n                                },\r\n                                artists:d.data.songs[0].ar\r\n                            }\r\n                        });\r\n                    }).catch(()=>{\r\n                        console.log(\"请求音乐信息失败\");\r\n                    });\r\n                }\r\n            });\r\n            //获取歌单评论\r\n            vm.$http.get('/comment/playlist?id='+vm.musicid).then(data=>{\r\n                vm.musicComment = data.data.comments.map(v=>{\r\n                    return {\r\n                        content:v.content,\r\n                        time:v.time,\r\n                        name:v.user.nickname,\r\n                        picUrl:v.user.avatarUrl,\r\n                        likedCount:v.likedCount\r\n                    }\r\n                });\r\n            })\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.song_sheet {\r\n    position: relative;\r\n    .header {\r\n        padding: 30px 10px 30px 15px;\r\n        overflow: hidden;\r\n        position: relative;\r\n        .bg {\r\n            background-size: cover;\r\n            background-repeat: no-repeat;\r\n            background-position: 50%;\r\n            transform: scale(1.5);\r\n            position: absolute;\r\n            bottom: 0px;\r\n            top: 0px;\r\n            left: 0px;\r\n            right: 0px;\r\n            z-index: 1;\r\n            filter: blur(20px);\r\n            &::after {\r\n                content: \"\";\r\n                position: absolute;\r\n                bottom: 0px;\r\n                top: 0px;\r\n                left: 0px;\r\n                right: 0px;\r\n                background-color: rgba(0,0,0,.25);\r\n            }\r\n        }\r\n        .header_content {\r\n            display: flex;\r\n            position: relative;\r\n            z-index: 2;\r\n            .left {\r\n                width: 126px;\r\n                height: 126px;\r\n                position: relative;\r\n                img {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n                .play-count {\r\n                    position: absolute;\r\n                    right: 0px;\r\n                    top: 0px;\r\n                    color: RGB(254,254,254);\r\n                    font-size: 12px; \r\n                }\r\n                .title {\r\n                    position: absolute;\r\n                    background-color: rgba(217,48,48,.8);\r\n                    padding: 0px 8px;\r\n                    left: 0px;\r\n                    top: 10px;\r\n                    border-top-right-radius: 17px;\r\n                    border-bottom-right-radius: 17px;\r\n                    font-size: 12px;\r\n                    color: white;\r\n                }\r\n            }\r\n            .right {\r\n                margin-left: 16px;\r\n                flex: 1;\r\n                display: flex;\r\n                flex-direction: column;\r\n                // background-color: purple;\r\n                p {\r\n                    color: RGB(254,254,254);\r\n                    font-size: 17px;\r\n                    height: 45px;\r\n                    word-wrap: break-word;\r\n                    overflow: hidden;\r\n                }\r\n                a {\r\n                    margin-top: 20px;\r\n                    height: 30px;   \r\n                    color: hsla(0,0%,100%,.7);\r\n                    font-size: 14px;\r\n                    img {\r\n                        width: 30px;\r\n                        height: 30px;\r\n                        border-radius: 50%;\r\n                        vertical-align: middle;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .text {\r\n        background-color: RGB(238,239,240);\r\n        padding: 0px 0px 5px 5px ;\r\n        font-size: 12px;\r\n        color: RGB(102,102,102);\r\n    }\r\n    .comment {\r\n        li {\r\n            padding-top: 10px;\r\n            display: flex;\r\n            .left {\r\n                width: 30px;\r\n                height: 30px;\r\n                margin: 0px 5px;\r\n                border-radius: 50%;\r\n                overflow: hidden;\r\n                img {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            }\r\n            .right {\r\n                flex: 1;\r\n                padding-bottom: 11px;\r\n                border-bottom: 1px solid RGB(248,248,248);\r\n                p:nth-of-type(1) {\r\n                    color: RGB(102,102,102);\r\n                    font-size: 12px;\r\n                }\r\n                p:nth-of-type(2) {\r\n                    color: RGB(166,153,153);\r\n                    font-size: 12px;\r\n                }\r\n                p:nth-of-type(3) {\r\n                    color: RGB(51,51,51);\r\n                    font-size: 14px;\r\n                    margin-top: 5px;\r\n                }\r\n            }\r\n            .dianzan {\r\n                font-size: 12px;\r\n                color: RGB(153,153,153);\r\n                span {\r\n                    margin-right: 10px; \r\n                    vertical-align: top;\r\n                }\r\n                span:nth-of-type(2) {\r\n                    display: inline-block;\r\n                    width: 16px;\r\n                    height: 16px;\r\n                    background: url(../assets/hand-thumbs-up.svg) no-repeat center center;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n.full-enter-enter{\r\n        transform: translateX(-100%);\r\n}\r\n.full-enter-to{\r\n    transform: translateX(0);\r\n}\r\n.full-enter-enter-active{\r\n    transition: all .3s ease;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MusicList.vue?vue&type=template&id=7d1ccb24&scoped=true&\"\nimport script from \"./MusicList.vue?vue&type=script&lang=js&\"\nexport * from \"./MusicList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MusicList.vue?vue&type=style&index=0&id=7d1ccb24&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d1ccb24\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}