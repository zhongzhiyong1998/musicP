(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6db9a0e6"],{"4d7d":function(t,a,s){},"94a8":function(t,a,s){"use strict";s("4d7d")},c573:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("transition",{attrs:{name:"full-enter"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.$root.playingMusic.isFullscreenShow,expression:"!$root.playingMusic.isFullscreenShow"}],staticClass:"song_sheet"},[s("div",{staticClass:"header"},[s("div",{staticClass:"bg",style:{backgroundImage:"url("+t.headMsg.coverImgUrl+")"}}),s("div",{staticClass:"header_content"},[s("div",{staticClass:"left"},[s("span",{staticClass:"title"},[t._v("歌单")]),s("img",{attrs:{src:t.headMsg.coverImgUrl}}),s("span",{staticClass:"play-count"},[t._v(t._s(t._f("formatNum")(t.headMsg.playCount)))])]),s("div",{staticClass:"right"},[s("p",[t._v(t._s(t.headMsg.description))]),s("a",[s("img",{attrs:{src:t.headMsg.touxiang}}),t._v(" "+t._s(t.headMsg.name)+" ")])])])]),s("p",{staticClass:"text"},[t._v("歌曲列表")]),s("MusicItem",{attrs:{MusicList:t.musicList}}),s("p",{staticClass:"text"},[t._v("精彩评论")]),s("div",{staticClass:"comment"},[s("ul",t._l(t.musicComment,(function(a){return s("li",{key:a.commentId},[s("div",{staticClass:"left"},[s("img",{attrs:{src:a.picUrl}})]),s("div",{staticClass:"right"},[s("p",{staticClass:"name"},[t._v(t._s(a.name))]),s("p",{staticClass:"time"},[t._v(t._s(t._f("formatTime")(a.time)))]),s("p",{},[t._v(t._s(a.content))])]),s("div",{staticClass:"dianzan"},[s("span",[t._v(t._s(a.likedCount))]),s("span")])])})),0)])],1)])},i=[],n=(s("d81d"),s("b0c0"),s("b680"),s("b85c")),c=s("01f3"),o={props:["musicid"],data:function(){return{musicList:[],musicComment:[],headMsg:[]}},filters:{formatTime:function(t){var a=new Date(t),s=a.getFullYear(),e=a.getMonth()+1,i=a.getDate();return s+"年"+e+"月"+i+"日"},formatNum:function(t){return(t/1e4).toFixed(1)+"万"}},components:{MusicItem:c["a"]},beforeRouteEnter:function(t,a,s){s((function(t){var a=[];t.$http.get("/playlist/detail?id="+t.musicid).then((function(s){"undefined"!=s.data.playlist&&(a=s.data.playlist.trackIds,t.headMsg={commentCount:s.data.playlist.commentCount,coverImgUrl:s.data.playlist.coverImgUrl,description:s.data.playlist.name,name:s.data.playlist.creator.nickname,touxiang:s.data.playlist.creator.avatarUrl,playCount:s.data.playlist.playCount})}),(function(){return console.log("获取歌单音乐列表ID失败")})).then((function(){var s,e=Object(n["a"])(a);try{for(e.s();!(s=e.n()).done;){var i=s.value;t.$http.get("song/detail?ids="+i.id).then((function(a){t.musicList.push({name:a.data.songs[0].name,id:a.data.songs[0].id,song:{privilege:{maxbr:a.data.privileges[0].maxbr},artists:a.data.songs[0].ar}})})).catch((function(){console.log("请求音乐信息失败")}))}}catch(c){e.e(c)}finally{e.f()}})),t.$http.get("/comment/playlist?id="+t.musicid).then((function(a){t.musicComment=a.data.comments.map((function(t){return{content:t.content,time:t.time,name:t.user.nickname,picUrl:t.user.avatarUrl,likedCount:t.likedCount}}))}))}))}},l=o,r=(s("94a8"),s("2877")),u=Object(r["a"])(l,e,i,!1,null,"7d1ccb24",null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-6db9a0e6.1a0e1e60.js.map